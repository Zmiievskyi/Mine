<div class="min-h-screen bg-[var(--gcore-bg)]">
  <!-- Header -->
  <header class="bg-white border-b border-[var(--gcore-border)] px-6 py-4">
    <div class="flex items-center justify-between">
      <h1 class="text-xl font-bold text-[var(--gcore-text)]">MineGNK</h1>
      <div class="flex items-center gap-3">
        @if (currentUser()?.avatarUrl) {
          <img
            [src]="currentUser()?.avatarUrl"
            class="w-8 h-8 rounded-full object-cover"
            alt="Avatar"
          />
        } @else {
          <div class="w-8 h-8 rounded-full bg-[var(--gcore-primary)] flex items-center justify-center text-white text-sm font-medium">
            {{ getInitial() }}
          </div>
        }
        <span class="text-sm text-[var(--gcore-text-muted)]">
          {{ getDisplayName() }}
        </span>
        <button hlmBtn variant="ghost" size="sm" (click)="logout()">
          Logout
        </button>
      </div>
    </div>
  </header>

  <!-- Email Verification Banner -->
  @if (showVerificationBanner()) {
    <app-email-verification-banner />
  }

  <div class="flex">
    <!-- Sidebar -->
    <aside class="w-64 bg-white border-r border-[var(--gcore-border)] min-h-[calc(100vh-65px)]">
      <nav class="p-4">
        <ul class="space-y-2">
          <li>
            <a
              routerLink="/dashboard"
              routerLinkActive="bg-[var(--gcore-primary)] text-white"
              [routerLinkActiveOptions]="{ exact: true }"
              class="block px-4 py-2 rounded text-[var(--gcore-text)] transition-colors hover:bg-gray-100 [&.bg-\[var\(--gcore-primary\)\]]:hover:bg-[var(--gcore-primary)] [&.bg-\[var\(--gcore-primary\)\]]:hover:opacity-90"
            >
              Dashboard
            </a>
          </li>
          <li>
            <a
              routerLink="/nodes"
              routerLinkActive="bg-[var(--gcore-primary)] text-white"
              [routerLinkActiveOptions]="{ exact: true }"
              class="block px-4 py-2 rounded text-[var(--gcore-text)] transition-colors hover:bg-gray-100 [&.bg-\[var\(--gcore-primary\)\]]:hover:bg-[var(--gcore-primary)] [&.bg-\[var\(--gcore-primary\)\]]:hover:opacity-90"
            >
              My Nodes
            </a>
          </li>
          <li>
            <a
              routerLink="/nodes/request"
              routerLinkActive="bg-[var(--gcore-primary)] text-white"
              class="block px-4 py-2 rounded text-[var(--gcore-text)] transition-colors hover:bg-gray-100 [&.bg-\[var\(--gcore-primary\)\]]:hover:bg-[var(--gcore-primary)] [&.bg-\[var\(--gcore-primary\)\]]:hover:opacity-90"
            >
              Request Node
            </a>
          </li>
          <li>
            <a
              routerLink="/requests"
              routerLinkActive="bg-[var(--gcore-primary)] text-white"
              class="block px-4 py-2 rounded text-[var(--gcore-text)] transition-colors hover:bg-gray-100 [&.bg-\[var\(--gcore-primary\)\]]:hover:bg-[var(--gcore-primary)] [&.bg-\[var\(--gcore-primary\)\]]:hover:opacity-90"
            >
              My Requests
            </a>
          </li>
          @if (authService.isAdmin$ | async) {
            <li class="pt-4 border-t border-[var(--gcore-border)] mt-4">
              <a
                routerLink="/admin"
                routerLinkActive="bg-[var(--gcore-primary)] text-white"
                class="block px-4 py-2 rounded text-[var(--gcore-text)] transition-colors hover:bg-gray-100 [&.bg-\[var\(--gcore-primary\)\]]:hover:bg-[var(--gcore-primary)] [&.bg-\[var\(--gcore-primary\)\]]:hover:opacity-90"
              >
                Admin Panel
              </a>
            </li>
          }
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-6">
      <ng-content></ng-content>
    </main>
  </div>
</div>
